# init vault server
cd ~/vault_tls
openssl genrsa -out ./certs/server.key 2048
openssl req -new -x509 -key ./certs/server-privkey.pem -out ./certs/server-pub.pem -days 3650
docker-compose -f docker-compose-tls.yml up -d 

# export ENV
export VAULT_TOKEN=

# create client priv_key and cert_request
openssl req -newkey rsa:2048 -nodes -days 365000 -keyout ./certs/client-private-key.pem -out ./certs/client.csr

# sign the CSR with your root CA certificate
openssl x509 -req -days 750 -in ./certs/client.csr -sha256 -CA ./certs/server.crt -CAkey ./certs/server.key -CAcreateserial -out ./certs/client-signed-cert.pem
